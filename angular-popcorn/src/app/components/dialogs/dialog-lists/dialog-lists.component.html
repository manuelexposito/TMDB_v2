
<div >
<h1>Película: {{data.name}}</h1>
    <mat-accordion class="example-headers-align">
      <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" (closed)="true" *ngIf="listas.length > 0" hideToggle >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Añade la película a una de tus listas
          </mat-panel-title>

        </mat-expansion-panel-header>
        <div >
          <mat-form-field >
            <mat-label>Selecciona una lista</mat-label>
            <mat-select [(ngModel)]="selectedList" >
              <mat-option>--</mat-option>
              <mat-option *ngFor="let list of listas" [value]="list" >
                {{list.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <br>
          <button mat-raised-button (click)="addMovieToList(selectedList); openSnackBar() " mat-dialog-close color="primary"> Añadir a esta lista </button>
        </div>
        <mat-action-row>
          <button mat-button color="primary" (click)="nextStep()">Crear nueva lista</button>
        </mat-action-row>
      </mat-expansion-panel>

      <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" (closed)="true" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Crea una nueva lista y añade esta película
          </mat-panel-title>

        </mat-expansion-panel-header>

        <mat-form-field  appearance="fill"  >
          <mat-label>Título</mat-label>
          <input matInput placeholder="Título" [(ngModel)]="nombreNuevaLista" [value]="[nombreNuevaLista]">
      </mat-form-field>

      <mat-form-field class="example-full-width" appearance="fill"  >
        <mat-label>Descripción</mat-label>
        <textarea matInput placeholder="Descripción" [(ngModel)]="descNuevaLista" [value]="[descNuevaLista]"></textarea>
    </mat-form-field>
      <button mat-raised-button (click)="addMovieToNewList(nombreNuevaLista, descNuevaLista) ; openSnackBar()" mat-dialog-close color="primary"> Añadir a esta lista </button>
        <mat-action-row>
          <button mat-button color="primary"  *ngIf="listas.length > 0" (click)="prevStep()">Seleccionar lista existente</button>
        </mat-action-row>
      </mat-expansion-panel>
<br><br>
<button mat-raised-button mat-dialog-close>Volver atrás</button>
    </mat-accordion>



  </div>
